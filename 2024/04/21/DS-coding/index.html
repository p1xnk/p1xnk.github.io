<!DOCTYPE html>
<html lang="en">
<head>
  <title>
    
    DS coding - 
    p1nk&#39;s blog
  </title>
  <meta property="og:title" content="DS coding - p1nk&#39;s blog" />
  <meta property="og:site_name" content="p1nk&#39;s blog" />

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  

  <meta property="og:type" content="article" />


  
  <link rel="shortcut icon" href="/favicon.ico" />
  

  

  
  <link rel="canonical" href="http://blog.p1nk.cn/2024/04/21/DS-coding/">
  <meta name="og:url" content="http://blog.p1nk.cn/2024/04/21/DS-coding/">
  
<link rel="stylesheet" href="/css/style.css">


<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div class="title">
  <img class="title_img" alt="Title image" width="300" height="300" src="/images/icon.png" /><br>
  <div id="site_title">p1nk's blog</div>
</div>
  <div class="navi">
  <a id="navi_item_title" href="/#" class="menu-item-link">
    Home
  </a>
  <a id="navi_item_tags" href="/tags" class="menu-item-link">
    Tags
  </a>
  <a id="navi_item_about" href="/about" class="menu-item-link">
    AboutMe
  </a>
  <a id="navi_item_search" href="/search" class="menu-item-link">
    Search
  </a>
  
</div>

<hr />

  <div class="main">
    
<link rel="stylesheet" href="/css/post.css">

<post>

  <div class="post_title">
    DS coding
  </div>

  <br /><br />

  <div id="post_content">
    <h3 id="x"><a href="#x" class="headerlink" title="x"></a>x</h3><h3 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h3><p>线性表插入一个值</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MaxSize = <span class="number">100</span>; <span class="comment">// 定义最大容量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType; <span class="comment">// 定义元素类型为 int</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sqList</span> &#123;</span></span><br><span class="line">    ElemType data[MaxSize]; <span class="comment">// 存储元素的数组</span></span><br><span class="line">    <span class="type">int</span> length; <span class="comment">// 表示顺序表的当前长度</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> <span class="title function_">ListInsert</span><span class="params">(sqList &amp;L, <span class="type">int</span> i, ElemType e)</span> &#123;</span><br><span class="line">    <span class="comment">// 检查位置 i 是否有效</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span> || i &gt; L.length + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检查顺序表是否已满</span></span><br><span class="line">    <span class="keyword">if</span> (L.length &gt;= MaxSize)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将第 i 个位置及之后的元素后移</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = L.length; j &gt;= i; j--)</span><br><span class="line">        L.data[j] = L.data[j - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在位置 i 处放入新元素 e</span></span><br><span class="line">    L.data[i - <span class="number">1</span>] = e;</span><br><span class="line">    L.length++; <span class="comment">// 顺序表长度加 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 创建并初始化顺序表</span></span><br><span class="line">    sqList myList;</span><br><span class="line">    myList.length = <span class="number">5</span>; <span class="comment">// 假设顺序表已有 5 个元素</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; myList.length; i++) &#123;</span><br><span class="line">        myList.data[i] = i + <span class="number">1</span>; <span class="comment">// 初始化元素为 1, 2, 3, 4, 5</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 插入新元素</span></span><br><span class="line">    <span class="type">int</span> insertPos = <span class="number">7</span>; <span class="comment">// 指定插入位置</span></span><br><span class="line">    <span class="type">int</span> newValue = <span class="number">99</span>; <span class="comment">// 指定插入的新值</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ListInsert(myList, insertPos, newValue)) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Insertion successful!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;New list: &quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; myList.length; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; myList.data[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Insertion failed!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>并且插入的位置是相对位置。值得细看的代码。</p>
<p>简单了来说就说，用L.length作为下标用来表示一个空的位置，然后把前一个移到这个上面。</p>
<p>最后<code>L.data[i - 1] = e;</code>这个实现了为什么说，我们</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 插入新元素</span></span><br><span class="line"><span class="type">int</span> insertPos = <span class="number">3</span>; <span class="comment">// 指定插入位置</span></span><br><span class="line"><span class="type">int</span> newValue = <span class="number">99</span>; <span class="comment">// 指定插入的新值</span></span><br></pre></td></tr></table></figure>

<p>这里是多少就是插入的相对位置。</p>
<p>线性表删除一个值</p>
<p>有了前面的基础，这个理解起来就easy太多了</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MaxSize = <span class="number">100</span>; <span class="comment">// 定义最大容量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType; <span class="comment">// 定义元素类型为 int</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sqList</span> &#123;</span></span><br><span class="line">    ElemType data[MaxSize]; <span class="comment">// 存储元素的数组</span></span><br><span class="line">    <span class="type">int</span> length; <span class="comment">// 表示顺序表的当前长度</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除顺序表中的元素</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">ListDelete</span><span class="params">(sqList &amp;L, <span class="type">int</span> i, ElemType &amp;e)</span> &#123;</span><br><span class="line">    <span class="comment">// 检查位置 i 是否有效</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span> || i &gt; L.length)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将被删除的元素赋值给 e</span></span><br><span class="line">    e = L.data[i - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将第 i 个位置后的元素前移</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt; L.length; j++) &#123;</span><br><span class="line">        L.data[j - <span class="number">1</span>] = L.data[j];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 顺序表长度减 1</span></span><br><span class="line">    L.length--;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 创建并初始化顺序表</span></span><br><span class="line">    sqList myList;</span><br><span class="line">    myList.length = <span class="number">5</span>; <span class="comment">// 假设顺序表已有 5 个元素</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; myList.length; i++) &#123;</span><br><span class="line">        myList.data[i] = i + <span class="number">1</span>; <span class="comment">// 初始化元素为 1, 2, 3, 4, 5</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除操作</span></span><br><span class="line">    <span class="type">int</span> deletePos = <span class="number">4</span>; <span class="comment">// 指定删除位置</span></span><br><span class="line">    <span class="type">int</span> deletedValue; <span class="comment">// 用于接收被删除的值</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ListDelete(myList, deletePos, deletedValue)) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Deletion successful! Deleted element: &quot;</span> &lt;&lt; deletedValue &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;New list: &quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; myList.length; i++) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; myList.data[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Deletion failed!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这个其实也不是删除了，只是把数值朝前移了，其实原来的下表的数字还存在，只不过我们剪短了线性表的长度，所以删除了。</p>
<h3 id="单链表："><a href="#单链表：" class="headerlink" title="单链表："></a>单链表：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span>  <span class="comment">// For malloc and free</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;  <span class="comment">// 假设元素类型为int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义单链表节点类型</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">iNode</span> &#123;</span></span><br><span class="line">    ElemType data;    <span class="comment">// 数据域</span></span><br><span class="line">    iNode *next;      <span class="comment">// 指针域</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> iNode* LinkList; <span class="comment">// 链表类型定义</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 带头结点的单链表的初始化</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">InitList</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    L = new iNode();  <span class="comment">// 使用new代替malloc</span></span><br><span class="line">    <span class="keyword">if</span> (!L) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 检查内存分配是否成功</span></span><br><span class="line">    L-&gt;next = nullptr;  <span class="comment">// 明确使用nullptr代替NULL</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在链表的末尾添加一个新节点</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">AppendNode</span><span class="params">(LinkList &amp;L, ElemType value)</span> &#123;</span><br><span class="line">    iNode *newNode = new iNode();  <span class="comment">// 使用new创建节点</span></span><br><span class="line">    newNode-&gt;data = value;</span><br><span class="line">    newNode-&gt;next = nullptr;</span><br><span class="line"></span><br><span class="line">    iNode *current = L;</span><br><span class="line">    <span class="keyword">while</span> (current-&gt;next != nullptr) &#123;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    current-&gt;next = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印链表中的所有元素</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintList</span><span class="params">(LinkList L)</span> &#123;</span><br><span class="line">    iNode *current = L-&gt;next;  <span class="comment">// 跳过头结点</span></span><br><span class="line">    <span class="keyword">while</span> (current != nullptr) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; current-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除链表，释放内存</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DeleteList</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    iNode *current = L;</span><br><span class="line">    <span class="keyword">while</span> (current != nullptr) &#123;</span><br><span class="line">        iNode *next = current-&gt;next;</span><br><span class="line">        delete current;  <span class="comment">// 使用delete代替free</span></span><br><span class="line">        current = next;</span><br><span class="line">    &#125;</span><br><span class="line">    L = nullptr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkList myList;</span><br><span class="line">    <span class="keyword">if</span> (InitList(myList)) &#123;</span><br><span class="line">        AppendNode(myList, <span class="number">10</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">20</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">30</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Elements in the linked list: &quot;</span>;</span><br><span class="line">        PrintList(myList); <span class="comment">// 输出: Elements in the linked list: 10 20 30 40</span></span><br><span class="line"></span><br><span class="line">        DeleteList(myList); <span class="comment">// 释放链表占用的内存</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Failed to initialize the list.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="计算单链表长度"><a href="#计算单链表长度" class="headerlink" title="计算单链表长度"></a>计算单链表长度</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span>  <span class="comment">// For dynamic memory management</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;  <span class="comment">// 假设元素类型为int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义单链表节点类型</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">iNode</span> &#123;</span></span><br><span class="line">    ElemType data;    <span class="comment">// 数据域</span></span><br><span class="line">    iNode *next;      <span class="comment">// 指针域</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> iNode* LinkList; <span class="comment">// 链表类型定义</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 带头结点的单链表的初始化</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">InitList</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    L = new iNode();  <span class="comment">// 使用new代替malloc</span></span><br><span class="line">    <span class="keyword">if</span> (!L) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 检查内存分配是否成功</span></span><br><span class="line">    L-&gt;next = nullptr;  <span class="comment">// 明确使用nullptr代替NULL</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在链表的末尾添加一个新节点</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">AppendNode</span><span class="params">(LinkList &amp;L, ElemType value)</span> &#123;</span><br><span class="line">    iNode *newNode = new iNode();  <span class="comment">// 使用new创建节点</span></span><br><span class="line">    newNode-&gt;data = value;</span><br><span class="line">    newNode-&gt;next = nullptr;</span><br><span class="line"></span><br><span class="line">    iNode *current = L;</span><br><span class="line">    <span class="keyword">while</span> (current-&gt;next != nullptr) &#123;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    current-&gt;next = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印链表中的所有元素</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintList</span><span class="params">(LinkList L)</span> &#123;</span><br><span class="line">    iNode *current = L-&gt;next;  <span class="comment">// 跳过头结点</span></span><br><span class="line">    <span class="keyword">while</span> (current != nullptr) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; current-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算链表长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">Length</span><span class="params">(LinkList L)</span> &#123;</span><br><span class="line">    <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">    iNode *p = L-&gt;next;  <span class="comment">// 从第一个数据节点开始，跳过头结点</span></span><br><span class="line">    <span class="keyword">while</span> (p != nullptr) &#123;</span><br><span class="line">        len++;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除链表，释放内存</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DeleteList</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    iNode *current = L;</span><br><span class="line">    <span class="keyword">while</span> (current != nullptr) &#123;</span><br><span class="line">        iNode *next = current-&gt;next;</span><br><span class="line">        delete current;  <span class="comment">// 使用delete代替free</span></span><br><span class="line">        current = next;</span><br><span class="line">    &#125;</span><br><span class="line">    L = nullptr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkList myList;</span><br><span class="line">    <span class="keyword">if</span> (InitList(myList)) &#123;</span><br><span class="line">        AppendNode(myList, <span class="number">10</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">20</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">30</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Elements in the linked list: &quot;</span>;</span><br><span class="line">        PrintList(myList); <span class="comment">// 输出: Elements in the linked list: 10 20 30 40</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Length of the linked list: &quot;</span> &lt;&lt; Length(myList) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// 输出链表的长度</span></span><br><span class="line"></span><br><span class="line">        DeleteList(myList); <span class="comment">// 释放链表占用的内存</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Failed to initialize the list.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="有关链表的一些内容"><a href="#有关链表的一些内容" class="headerlink" title="有关链表的一些内容"></a>有关链表的一些内容</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span>  <span class="comment">// For dynamic memory management</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;  <span class="comment">// 假设元素类型为int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义单链表节点类型</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">iNode</span> &#123;</span></span><br><span class="line">    ElemType data;    <span class="comment">// 数据域</span></span><br><span class="line">    iNode *next;      <span class="comment">// 指针域</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> iNode* LinkList; <span class="comment">// 链表类型定义</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 带头结点的单链表的初始化</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">InitList</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    L = new iNode();  <span class="comment">// 使用new代替malloc</span></span><br><span class="line">    <span class="keyword">if</span> (!L) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 检查内存分配是否成功</span></span><br><span class="line">    L-&gt;next = nullptr;  <span class="comment">// 明确使用nullptr代替NULL</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在链表的末尾添加一个新节点</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">AppendNode</span><span class="params">(LinkList &amp;L, ElemType value)</span> &#123;</span><br><span class="line">    iNode *newNode = new iNode();  <span class="comment">// 使用new创建节点</span></span><br><span class="line">    newNode-&gt;data = value;</span><br><span class="line">    newNode-&gt;next = nullptr;</span><br><span class="line"></span><br><span class="line">    iNode *current = L;</span><br><span class="line">    <span class="keyword">while</span> (current-&gt;next != nullptr) &#123;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    current-&gt;next = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印链表中的所有元素</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintList</span><span class="params">(LinkList L)</span> &#123;</span><br><span class="line">    iNode *current = L-&gt;next;  <span class="comment">// 跳过头结点</span></span><br><span class="line">    <span class="keyword">while</span> (current != nullptr) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; current-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 计算链表长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">Length</span><span class="params">(LinkList L)</span> &#123;</span><br><span class="line">    <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">    iNode *p = L-&gt;next;  <span class="comment">// 从第一个数据节点开始，跳过头结点</span></span><br><span class="line">    <span class="keyword">while</span> (p != nullptr) &#123;</span><br><span class="line">        len++;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除链表，释放内存</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DeleteList</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    iNode *current = L;</span><br><span class="line">    <span class="keyword">while</span> (current != nullptr) &#123;</span><br><span class="line">        iNode *next = current-&gt;next;</span><br><span class="line">        delete current;  <span class="comment">// 使用delete代替free</span></span><br><span class="line">        current = next;</span><br><span class="line">    &#125;</span><br><span class="line">    L = nullptr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取链表中的第 i 个元素的指针</span></span><br><span class="line">iNode *<span class="title function_">GetElem</span><span class="params">(LinkList L, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">    iNode *p = L; <span class="comment">// 从头结点开始</span></span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p != nullptr &amp;&amp; j &lt; i) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 返回第i个结点的指针或nullptr</span></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkList myList;</span><br><span class="line">    <span class="keyword">if</span> (InitList(myList)) &#123;</span><br><span class="line">        AppendNode(myList, <span class="number">10</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">20</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">30</span>);</span><br><span class="line">        AppendNode(myList, <span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Elements in the linked list: &quot;</span>;</span><br><span class="line">        PrintList(myList); <span class="comment">// 输出: Elements in the linked list: 10 20 30 40</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Length of the linked list: &quot;</span> &lt;&lt; Length(myList) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// 输出链表的长度</span></span><br><span class="line"></span><br><span class="line">        iNode *elem = GetElem(myList, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (elem != nullptr) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Element at position 2: &quot;</span> &lt;&lt; elem-&gt;data &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        DeleteList(myList); <span class="comment">// 释放链表占用的内存</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Failed to initialize the list.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span>  <span class="comment">// For dynamic memory management</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;  <span class="comment">// Assuming element type is int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the node structure for a singly linked list</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">iNode</span> &#123;</span><br><span class="line">    ElemType data;    <span class="comment">// Data field</span></span><br><span class="line">    iNode *next;      <span class="comment">// Pointer field</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> iNode* LinkList; <span class="comment">// Definition for the linked list type</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Initialize the singly linked list with a head node</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">InitList</span><span class="params">(LinkList &amp;L)</span> </span>&#123;</span><br><span class="line">    L = <span class="keyword">new</span> <span class="built_in">iNode</span>();  <span class="comment">// Allocate memory for the head node using new</span></span><br><span class="line">    <span class="keyword">if</span> (!L) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// Check if memory allocation was successful</span></span><br><span class="line">    L-&gt;next = <span class="literal">nullptr</span>;  <span class="comment">// Set the next pointer of head to nullptr</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Append a new node at the end of the linked list</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AppendNode</span><span class="params">(LinkList &amp;L, ElemType value)</span> </span>&#123;</span><br><span class="line">    iNode *newNode = <span class="keyword">new</span> <span class="built_in">iNode</span>();  <span class="comment">// Create a new node using new</span></span><br><span class="line">    newNode-&gt;data = value;</span><br><span class="line">    newNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    iNode *current = L;</span><br><span class="line">    <span class="keyword">while</span> (current-&gt;next != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    current-&gt;next = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Print all elements in the linked list</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintList</span><span class="params">(LinkList L)</span> </span>&#123;</span><br><span class="line">    iNode *current = L-&gt;next;  <span class="comment">// Skip the head node</span></span><br><span class="line">    <span class="keyword">while</span> (current != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        std::cout &lt;&lt; current-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Compute the length of the linked list</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Length</span><span class="params">(LinkList L)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">    iNode *p = L-&gt;next;  <span class="comment">// Start from the first data node, skipping the head node</span></span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        len++;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Free the linked list and release memory</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DeleteList</span><span class="params">(LinkList &amp;L)</span> </span>&#123;</span><br><span class="line">    iNode *current = L;</span><br><span class="line">    <span class="keyword">while</span> (current != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        iNode *next = current-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> current;  <span class="comment">// Use delete instead of free</span></span><br><span class="line">        current = next;</span><br><span class="line">    &#125;</span><br><span class="line">    L = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function to insert an element at the i-th position in the linked list</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">ListInsert</span><span class="params">(LinkList &amp;L, <span class="type">int</span> i, ElemType e)</span> </span>&#123;</span><br><span class="line">    iNode *p = L; <span class="comment">// Start from the head node</span></span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>; <span class="comment">// Index to track the position</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Find the (i-1)-th node</span></span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">nullptr</span> &amp;&amp; j &lt; i - <span class="number">1</span>) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Check if the position is valid</span></span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a new node</span></span><br><span class="line">    iNode *s = <span class="keyword">new</span> <span class="built_in">iNode</span>();</span><br><span class="line">    <span class="keyword">if</span> (!s) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// Check if memory allocation was successful</span></span><br><span class="line">    s-&gt;data = e;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the pointer to the i-th element in the linked list</span></span><br><span class="line"><span class="function">iNode *<span class="title">GetElem</span><span class="params">(LinkList L, <span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">    iNode *p = L; <span class="comment">// Start from the head node</span></span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">nullptr</span> &amp;&amp; j &lt; i) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Return the pointer to the i-th node or nullptr</span></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Locate a node by its value in the linked list</span></span><br><span class="line"><span class="function">iNode *<span class="title">LocateElem</span><span class="params">(LinkList L, ElemType e)</span> </span>&#123;</span><br><span class="line">    iNode *p = L-&gt;next;  <span class="comment">// Start from the first data node</span></span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">nullptr</span> &amp;&amp; p-&gt;data != e) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Return the pointer to the node if found, otherwise return nullptr</span></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LinkList myList;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">InitList</span>(myList)) &#123;</span><br><span class="line">        <span class="built_in">AppendNode</span>(myList, <span class="number">10</span>);</span><br><span class="line">        <span class="built_in">AppendNode</span>(myList, <span class="number">20</span>);</span><br><span class="line">        <span class="built_in">AppendNode</span>(myList, <span class="number">30</span>);</span><br><span class="line">        <span class="built_in">AppendNode</span>(myList, <span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Elements in the linked list: &quot;</span>;</span><br><span class="line">        <span class="built_in">PrintList</span>(myList);</span><br><span class="line"></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Length of the linked list: &quot;</span> &lt;&lt; <span class="built_in">Length</span>(myList) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">        <span class="type">bool</span> insertResult = <span class="built_in">ListInsert</span>(myList, <span class="number">2</span>, <span class="number">25</span>); <span class="comment">// Insert 25 at position 2</span></span><br><span class="line">        <span class="keyword">if</span> (insertResult) &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;After insertion: &quot;</span>;</span><br><span class="line">            <span class="built_in">PrintList</span>(myList); <span class="comment">// Should print: 10 25 20 30 40</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;Insertion failed.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        iNode *elem = <span class="built_in">GetElem</span>(myList, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (elem != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;Element at position 2: &quot;</span> &lt;&lt; elem-&gt;data &lt;&lt; std::endl;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        iNode *searchResult = <span class="built_in">LocateElem</span>(myList, <span class="number">30</span>);</span><br><span class="line">        <span class="keyword">if</span> (searchResult != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;Found element: &quot;</span> &lt;&lt; searchResult-&gt;data &lt;&lt; std::endl;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;Element not found.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">DeleteList</span>(myList); <span class="comment">// Release the list&#x27;s memory</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Failed to initialize the list.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="删除链表中的结点"><a href="#删除链表中的结点" class="headerlink" title="删除链表中的结点"></a>删除链表中的结点</h4><p>简短点：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="title function_">ListDelete</span><span class="params">(LinkList &amp;L, <span class="type">int</span> i, ElemType &amp;e)</span> &#123;</span><br><span class="line">    LNode *p = L;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p != nullptr &amp;&amp; j &lt; i - <span class="number">1</span>) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p == nullptr || p-&gt;next == nullptr) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// i值不合法</span></span><br><span class="line">    &#125;</span><br><span class="line">    LNode *q = p-&gt;next;</span><br><span class="line">    e = q-&gt;data;</span><br><span class="line">    p-&gt;next = q-&gt;next;</span><br><span class="line">    delete q;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>理解：首先就是要找到被删除结点的指针，然后指针的next指向被删除结点的指针的next就可以了，然后用e来接收一下被删除的值。</p>
<h4 id="头插法："><a href="#头插法：" class="headerlink" title="头插法："></a>头插法：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span> <span class="comment">// For dynamic memory allocation</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">LNode</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    LNode *next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> LNode* LinkList;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function to initialize the linked list with a dummy head node</span></span><br><span class="line">LinkList <span class="title function_">InitList</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkList L = (LNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode)); <span class="comment">// Allocate memory for the head node</span></span><br><span class="line">    <span class="keyword">if</span> (L == nullptr) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">&quot;Memory allocation failed.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    L-&gt;next = nullptr; <span class="comment">// Initially, the list is empty</span></span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function to insert elements into the list using head insertion</span></span><br><span class="line">LinkList <span class="title function_">HeadInsert</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter numbers to insert into the linked list (9999 to end): &quot;</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x; <span class="comment">// Read the first element</span></span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">9999</span>) &#123;</span><br><span class="line">        LNode *s = (LNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode)); <span class="comment">// Allocate memory for a new node</span></span><br><span class="line">        <span class="keyword">if</span> (s == nullptr) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">&quot;Memory allocation failed.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>; <span class="comment">// If allocation fails, skip to the next iteration</span></span><br><span class="line">        &#125;</span><br><span class="line">        s-&gt;data = x; <span class="comment">// Set the node&#x27;s data</span></span><br><span class="line">       LinkList <span class="title function_">HeadInsert</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter numbers to insert into the linked list (9999 to end): &quot;</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x; <span class="comment">// Read the first element</span></span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">9999</span>) &#123;</span><br><span class="line">        LNode *s = (LNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode)); <span class="comment">// Allocate memory for a new node</span></span><br><span class="line">        <span class="keyword">if</span> (s == nullptr) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">&quot;Memory allocation failed.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>; <span class="comment">// If allocation fails, skip to the next iteration</span></span><br><span class="line">        &#125;</span><br><span class="line">        s-&gt;data = x; <span class="comment">// Set the node&#x27;s data</span></span><br><span class="line">        s-&gt;next = L-&gt;next; <span class="comment">// Insert the new node at the beginning</span></span><br><span class="line">        L-&gt;next = s;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x; <span class="comment">// Read the next element</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125; <span class="comment">// Insert the new node at the beginning</span></span><br><span class="line">        L-&gt;next = s;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x; <span class="comment">// Read the next element</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function to print the list elements</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintList</span><span class="params">(LinkList L)</span> &#123;</span><br><span class="line">    LNode *current = L-&gt;next; <span class="comment">// Start from the first actual element</span></span><br><span class="line">    <span class="keyword">while</span> (current != nullptr) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; current-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkList myList = InitList(); <span class="comment">// Initialize the linked list</span></span><br><span class="line">    myList = HeadInsert(myList); <span class="comment">// Perform head insertion of elements</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;The elements in the linked list are: &quot;</span>;</span><br><span class="line">    PrintList(myList); <span class="comment">// Print the elements in the linked list</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>卧槽，我一直以为头插法是，接着插，没想到是每一次都是从头节点开始，后面仔细一想，如果是接着插，那不就是和尾插法一样了么</p>
<p>看一下chatgpt的可视化理解<br><img src="https://s2.loli.net/2024/05/03/ROizYtgZyC69k5o.png" alt="image-20240503181308980"></p>
<h4 id="尾插法："><a href="#尾插法：" class="headerlink" title="尾插法："></a>尾插法：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span> <span class="comment">// 用于动态内存分配</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">LNode</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    LNode *next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> LNode* LinkList;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化链表，创建头结点</span></span><br><span class="line">LinkList <span class="title function_">InitList</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkList L = (LNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    <span class="keyword">if</span> (L == nullptr) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">&quot;Memory allocation failed.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    L-&gt;next = nullptr;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 尾插法创建链表</span></span><br><span class="line">LinkList <span class="title function_">TailInsert</span><span class="params">(LinkList &amp;L)</span> &#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Enter numbers to insert into the linked list (9999 to end): &quot;</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">    LNode *r = L; <span class="comment">// r 是表尾指针</span></span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">9999</span>) &#123;</span><br><span class="line">        LNode *s = (LNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode)); <span class="comment">// 为新节点分配内存</span></span><br><span class="line">        <span class="keyword">if</span> (s == nullptr) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">&quot;Memory allocation failed.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        s-&gt;data = x; <span class="comment">// 设置新节点数据</span></span><br><span class="line">        r-&gt;next = s; <span class="comment">// 将新节点插入到链表尾部</span></span><br><span class="line">        r = s; <span class="comment">// 更新尾指针到新的尾节点</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = nullptr; <span class="comment">// 确保链表的最后一个节点的 next 指针为 nullptr</span></span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印链表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintList</span><span class="params">(LinkList L)</span> &#123;</span><br><span class="line">    LNode *current = L-&gt;next; <span class="comment">// 从头结点之后的第一个实际节点开始</span></span><br><span class="line">    <span class="keyword">while</span> (current != nullptr) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; current-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    LinkList myList = InitList(); <span class="comment">// 初始化链表</span></span><br><span class="line">    myList = TailInsert(myList); <span class="comment">// 使用尾插法添加元素</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;The elements in the linked list are: &quot;</span>;</span><br><span class="line">    PrintList(myList); <span class="comment">// 打印链表</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="双链表："><a href="#双链表：" class="headerlink" title="双链表："></a>双链表：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span> <span class="comment">// 包含对 free 的支持</span></span></span><br><span class="line"></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义双链表节点类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DNode</span> &#123;</span></span><br><span class="line">    ElemType data;  <span class="comment">// 数据域</span></span><br><span class="line">    DNode *prior, *next;  <span class="comment">// 前驱和后继指针</span></span><br><span class="line">&#125; DNode, *DLinkList;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化双链表</span></span><br><span class="line">DLinkList <span class="title function_">InitDList</span><span class="params">()</span> &#123;</span><br><span class="line">    DLinkList L = new DNode;  <span class="comment">// 创建头节点</span></span><br><span class="line">    L-&gt;prior = L-&gt;next = L;  <span class="comment">// 头节点的前驱和后继指向自己，形成一个循环</span></span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在双链表中p节点后插入新元素e</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">InsertAfter</span><span class="params">(DNode* p, ElemType e)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (p == nullptr) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 检查p是否为nullptr</span></span><br><span class="line"></span><br><span class="line">    DNode* s = new DNode;  <span class="comment">// 创建新节点s</span></span><br><span class="line">    s-&gt;data = e;  <span class="comment">// 设置新节点s的数据</span></span><br><span class="line">    s-&gt;next = p-&gt;next;      <span class="comment">// 步骤1: 将s的next指针指向p的next</span></span><br><span class="line">    <span class="keyword">if</span> (p-&gt;next != nullptr) &#123;  <span class="comment">// 如果p不是最后一个节点</span></span><br><span class="line">        p-&gt;next-&gt;prior = s;  <span class="comment">// 步骤2: 设置p的下一个节点的prior为s</span></span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;prior = p;            <span class="comment">// 步骤3: 设置s的prior为p</span></span><br><span class="line">    p-&gt;next = s;             <span class="comment">// 步骤4: 设置p的next为s</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除双链表中p的下一个节点</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">DeleteAfter</span><span class="params">(DNode* p)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (p == nullptr || p-&gt;next == nullptr) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 检查p及其下一个节点是否存在</span></span><br><span class="line"></span><br><span class="line">    DNode* q = p-&gt;next;  <span class="comment">// q是要删除的节点</span></span><br><span class="line">    <span class="keyword">if</span> (q-&gt;next != nullptr) &#123;  <span class="comment">// 如果q不是最后一个节点</span></span><br><span class="line">        q-&gt;next-&gt;prior = p;  <span class="comment">// 步骤2: 设置q的下一个节点的prior为p</span></span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;next = q-&gt;next;  <span class="comment">// 步骤1: 设置p的next为q的next</span></span><br><span class="line"></span><br><span class="line">    delete q;  <span class="comment">// 步骤3: 释放q节点的内存</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印双链表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintDList</span><span class="params">(DLinkList L)</span> &#123;</span><br><span class="line">    DNode* node = L-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (node != L) &#123;  <span class="comment">// 循环直到再次到达头节点</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; node-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        node = node-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主函数</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    DLinkList myList = InitDList();  <span class="comment">// 初始化双链表</span></span><br><span class="line">    InsertAfter(myList, <span class="number">10</span>);  <span class="comment">// 在头节点后插入10</span></span><br><span class="line">    InsertAfter(myList, <span class="number">20</span>);  <span class="comment">// 在头节点后插入20</span></span><br><span class="line">    InsertAfter(myList, <span class="number">30</span>);  <span class="comment">// 在头节点后插入30</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;The elements in the double linked list are: &quot;</span>;</span><br><span class="line">    PrintDList(myList);</span><br><span class="line"></span><br><span class="line">    DeleteAfter(myList-&gt;next);  <span class="comment">// 删除第二个元素（值20的元素）</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;After deletion: &quot;</span>;</span><br><span class="line">    PrintDList(myList);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="栈："><a href="#栈：" class="headerlink" title="栈："></a>栈：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;  <span class="comment">// 栈元素类型定义为整型，可以根据需要修改</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MaxSize = <span class="number">100</span>;  <span class="comment">// 定义栈的最大容量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义栈的结构</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SqStack</span> &#123;</span></span><br><span class="line">    ElemType data[MaxSize];  <span class="comment">// 栈的数组存储</span></span><br><span class="line">    <span class="type">int</span> top;  <span class="comment">// 栈顶指针</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化栈</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">InitStack</span><span class="params">(SqStack&amp; s)</span> &#123;</span><br><span class="line">    s.top = <span class="number">-1</span>;  <span class="comment">// 初始化栈顶指针</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断栈是否为空</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">StackEmpty</span><span class="params">(SqStack s)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> s.top == <span class="number">-1</span>;  <span class="comment">// 如果栈顶指针为-1，则栈为空</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 入栈操作</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">Push</span><span class="params">(SqStack&amp; s, ElemType x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.top == MaxSize - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 栈满，不能入栈</span></span><br><span class="line">    s.data[++s.top] = x;  <span class="comment">// 先将栈顶指针加1，然后入栈</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 出栈操作</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">Pop</span><span class="params">(SqStack&amp; s, ElemType &amp;x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.top == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 栈空，不能出栈</span></span><br><span class="line">    x = s.data[s.top--];  <span class="comment">// 先出栈，然后栈顶指针减1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取栈顶元素</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">GetTop</span><span class="params">(SqStack s, ElemType &amp;x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.top == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// 栈空，不能读取栈顶元素</span></span><br><span class="line">    x = s.data[s.top];  <span class="comment">// 读取栈顶元素</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主函数示例</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    SqStack s;</span><br><span class="line">    InitStack(s);  <span class="comment">// 初始化栈</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 进栈操作</span></span><br><span class="line">    Push(s, <span class="number">10</span>);</span><br><span class="line">    Push(s, <span class="number">20</span>);</span><br><span class="line">    Push(s, <span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 读取栈顶元素</span></span><br><span class="line">    ElemType top;</span><br><span class="line">    <span class="keyword">if</span> (GetTop(s, top)) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Top element is: &quot;</span> &lt;&lt; top &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 出栈操作</span></span><br><span class="line">    ElemType popped;</span><br><span class="line">    <span class="keyword">while</span> (Pop(s, popped)) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Popped element: &quot;</span> &lt;&lt; popped &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="队列："><a href="#队列：" class="headerlink" title="队列："></a>队列：</h3><p>一些栈的操作</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MaxSize = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SqQueue</span> &#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="type">int</span> front, rear;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化队列</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">InitQueue</span><span class="params">(SqQueue&amp; Q)</span> &#123;</span><br><span class="line">    Q.front = Q.rear = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断队列是否为空</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">IsEmpty</span><span class="params">(<span class="type">const</span> SqQueue&amp; Q)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Q.front == Q.rear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 入队操作</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">EnQueue</span><span class="params">(SqQueue&amp; Q, ElemType x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> ((Q.rear + <span class="number">1</span>) % MaxSize == Q.front) &#123;</span><br><span class="line">        <span class="comment">// 队满条件，避免假溢出</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Q.data[Q.rear] = x;</span><br><span class="line">    Q.rear = (Q.rear + <span class="number">1</span>) % MaxSize;  <span class="comment">// 循环队列</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 出队操作</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">DeQueue</span><span class="params">(SqQueue&amp; Q, ElemType&amp; x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (IsEmpty(Q)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    x = Q.data[Q.front];</span><br><span class="line">    Q.front = (Q.front + <span class="number">1</span>) % MaxSize;  <span class="comment">// 循环队列</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查看队头元素</span></span><br><span class="line"><span class="type">bool</span> <span class="title function_">GetFront</span><span class="params">(<span class="type">const</span> SqQueue&amp; Q, ElemType&amp; x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (IsEmpty(Q)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    x = Q.data[Q.front];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    SqQueue q;</span><br><span class="line">    InitQueue(q);</span><br><span class="line">    EnQueue(q, <span class="number">1</span>);</span><br><span class="line">    EnQueue(q, <span class="number">2</span>);</span><br><span class="line">    EnQueue(q, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    ElemType x;</span><br><span class="line">    <span class="keyword">while</span> (DeQueue(q, x)) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Dequeued: &quot;</span> &lt;&lt; x &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>队列假溢出原理：</p>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>考虑一个简单的非循环队列，最大大小为5，初始时 <code>front</code> 和 <code>rear</code> 都是0。如果连续入队5个元素然后出队3个，此时 <code>front</code> 是3，<code>rear</code> 是5，数组的前两个位置是空的。但如果使用 <code>rear == MaxSize</code> 作为队满的判断，虽然还有两个位置空着，新的入队操作却不能执行，因为 <code>rear</code> 无法增加。</p>
<h4 id="一些疑惑："><a href="#一些疑惑：" class="headerlink" title="一些疑惑："></a>一些疑惑：</h4><p>在循环队列中，通常会有一个位置被故意留空来区分队列为空和队列为满的情况。这是因为在循环队列的实现中，<code>front</code> 指针和 <code>rear</code> 指针的行为特别关键，它们都在同一个固定大小的数组中循环移动。如果我们不留出一个空位，那么在某些情况下，<code>front</code> 和 <code>rear</code> 将会指向相同的位置，这将使得队列为空的状态和队列为满的状态无法区分。</p>
<p>解释队列为什么只能存储 MaxSize - 1 个元素</p>
<p>在循环队列中，以下是如何区分空队和满队的常用方法：</p>
<ul>
<li><strong>队空条件</strong>：当 <code>front == rear</code> 时，队列为空。</li>
<li><strong>队满条件</strong>：当 <code>(rear + 1) % MaxSize == front</code> 时，队列为满。</li>
</ul>
<p>如果没有留出一个空位，那么当队列实际已满时，<code>rear</code> 指针加一后正好绕回到 <code>front</code> 指针的位置（即 <code>(rear + 1) % MaxSize == front</code>），这时两者相等。但这种情况也恰好是队列为空时的情况（<code>front == rear</code>）。因此，为了避免这种歧义，我们通常保持队列中始终有一个位置不被使用。</p>
<p><strong>举例说明</strong></p>
<p>假设 <code>MaxSize</code> 设为 50，那么实际的存储索引是从 0 到 49。在循环队列中：</p>
<ul>
<li>当 <code>front = 0</code> 且 <code>rear = 0</code> 时，队列为空。</li>
<li>为了确保队满和队空能够区分，我们让 <code>rear</code> 在队列即将满时停在 <code>front - 1</code> 的位置。即如果 <code>front = 0</code>，那么队满时 <code>rear</code> 应在 49，这时如果尝试再加入一个元素，<code>rear</code> 将移动到 0 位置（<code>(49 + 1) % 50 = 0</code>），恰好等于 <code>front</code>，满足队满的条件 <code>(rear + 1) % MaxSize == front</code>。</li>
</ul>
<p>这种设计有效地使用数组的空间，并且确保了队列的操作可以高效且正确地判断队列的状态。在实际应用中，这意味着虽然你有一个大小为 50 的数组，实际上只能使用 49 个位置来存储队列中的元素。</p>
<h3 id="栈的应用："><a href="#栈的应用：" class="headerlink" title="栈的应用："></a>栈的应用：</h3><p>括号匹配   easy</p>
<p>表达式转换：</p>
<p>例子：转换表达式 <code>A+B*(C-D)</code></p>
<p><strong>中缀表达式</strong>：<code>A + B * (C - D)</code></p>
<ul>
<li>在人类的日常书写和思考中，我们习惯于这种格式。操作符（如<code>+</code>、<code>*</code>）位于操作数（如<code>A</code>、<code>B</code>）之间，可能需要括号来指明运算顺序。</li>
</ul>
<p><strong>目标</strong>：将其转换为后缀表达式，即操作符跟随其操作数。</p>
<p>转换步骤</p>
<ol>
<li><strong>加括号</strong>：根据运算的优先级和结合律，首先明确运算顺序。在这个例子中，<code>*</code>和括号内的<code>-</code>优先级高于<code>+</code>。<ul>
<li>加括号后：<code>(A + (B * (C - D)))</code></li>
</ul>
</li>
<li><strong>运算符后移</strong>：将操作符移动到其对应的操作数后面。<ul>
<li>将<code>C - D</code>转换为<code>CD-</code></li>
<li>将<code>B * (C - D)</code>转换为<code>BCD-*</code></li>
<li>将整个表达式<code>A + (B * (C - D))</code>转换为<code>ABCD-*+</code></li>
</ul>
</li>
<li><strong>去除括号</strong>：由于后缀表达式的运算顺序已经通过操作符的位置明确，因此不再需要括号。<ul>
<li>最终后缀表达式：<code>ABCD-*+</code></li>
</ul>
</li>
</ol>
<p><strong>为什么使用后缀表达式？</strong></p>
<p>后缀表达式（逆波兰表示法）对计算机来说更容易处理，因为它遵循一种直接且一致的解析模式，无需回溯。计算机可以使用一个栈来一次性从左到右处理表达式：</p>
<ul>
<li><p>处理后缀表达式 <code>ABCD-*+</code></p>
<p>：</p>
<ul>
<li>遇到操作数（<code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>），依次压入栈。</li>
<li>遇到操作符（<code>-</code>），弹出栈顶的两个元素（<code>D</code>, <code>C</code>），计算<code>C-D</code>，将结果压回栈。</li>
<li>遇到操作符（<code>*</code>），弹出栈顶的两个元素（上一步的结果和<code>B</code>），计算<code>B*(C-D)</code>，将结果压回栈。</li>
<li>遇到操作符（<code>+</code>），弹出栈顶的两个元素（上一步的结果和<code>A</code>），计算<code>A+B*(C-D)</code>，得到最终结果。</li>
</ul>
</li>
</ul>
<p><strong>后缀表达式求值过程</strong></p>
<p>假设我们有后缀表达式 <code>ABCD-*+EF/-</code>，这里使用的是字母而非实际数字，为了解释过程，我们可以假设它们代表任意数值。求值的过程遵循以下步骤：</p>
<ol>
<li><strong>扫描表达式</strong>：从左到右扫描后缀表达式中的每一个字符。</li>
<li><strong>处理操作数</strong>：如果扫描到的是操作数（如A、B、C、D、E、F），则将其压入栈中。</li>
<li><strong>处理操作符</strong>：如果扫描到的是操作符（如<code>+</code>、<code>-</code>、<code>*</code>、<code>/</code>），则从栈中弹出两个顶端元素。第一个弹出的元素是右操作数，第二个弹出的是左操作数，然后使用这个操作符对这两个操作数执行运算。将运算结果压回栈中。</li>
<li><strong>重复直至表达式尾端</strong>：重复步骤2和3直到整个表达式被扫描完毕。</li>
<li><strong>结果</strong>：表达式扫描完成后，栈顶的元素就是整个表达式的计算结果。</li>
</ol>
<p><strong>例子详解</strong></p>
<p>以表达式 <code>ABCD-*+EF/-</code> 为例，其求值过程如下：</p>
<ul>
<li><strong>进栈</strong>：A, B, C, D （栈中内容：ABCD）</li>
<li>**操作符<code>-</code>**：弹出 D 和 C，计算 <code>C-D</code>，假设结果为 R1，压入栈（栈中内容：ABR1）</li>
<li>**操作符<code>\*</code>**：弹出 R1 和 B，计算 <code>B*R1</code>，假设结果为 R2，压入栈（栈中内容：AR2）</li>
<li>**操作符<code>+</code>**：弹出 R2 和 A，计算 <code>A+R2</code>，假设结果为 R3，压入栈（栈中内容：R3）</li>
<li><strong>进栈</strong>：E, F （栈中内容：R3EF）</li>
<li>**操作符<code>/</code>**：弹出 F 和 E，计算 <code>E/F</code>，假设结果为 R4，压入栈（栈中内容：R3R4）</li>
<li>**操作符<code>-</code>**：弹出 R4 和 R3，计算 <code>R3-R4</code>，得到最终结果 R5，压入栈（栈中内容：R5）</li>
</ul>
<p>最终栈顶的 R5 就是整个表达式的计算结果。这个过程利用了栈的“后进先出”特性，确保了每次运算都用到了最近的操作数和正确的操作顺序。</p>

  </div>

  <br />

  
  <br /><br />


  

<div id="copyright">

  <a id="license-image" rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img height="15" width="80" alt="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" />
  </a>

  <p id="license-word-hyper">
    This work is licensed under a
    <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
    Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>
    .
  </p>
</div>

  <div id="top">
  <div onclick="window.scrollTo({top: 0, behavior: 'smooth'})">▲</div>
  <div onclick="document.getElementById('footer').scrollIntoView({behavior: 'smooth'})">▼</div>
</div>
  

</post>
  </div>

  <foot id="footer">
  <hr class="boldline" />
  <br>

  <p class="center font">
    
    <a target="_blank" rel="noopener" href="https://github.com/username" aria-label="GitHub">
  <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
   <path class="icon_path" d="M427.392 853.504a61.44 61.44 0 0 1-1.450667 15.530667 92.586667 92.586667 0 0 1-10.965333 27.605333c-15.061333 25.301333-40.661333 42.154667-73.642667 42.154667-77.653333 0-108.117333-38.101333-146.261333-133.504C169.216 740.693333 157.013333 725.461333 128 725.461333v-85.333333c77.653333 0 108.117333 38.101333 146.261333 133.504 25.856 64.597333 38.058667 79.786667 67.072 79.786667 0-12.373333-0.170667-23.296-0.512-38.144-0.853333-34.816-0.938667-41.941333 0.554667-51.2 0.64-20.352 5.888-34.773333 16.384-49.066667-95.232-20.736-159.445333-63.573333-196.309333-132.992l-13.824-32.426667C134.186667 510.848 128 467.072 128 416.426667c0-58.24 17.749333-110.336 50.944-153.856-10.368-41.386667-8.96-91.989333 13.909333-149.077334l7.466667-18.688 19.2-6.101333c2.56-0.853333 5.632-1.578667 9.301333-2.133333 37.290667-5.888 90.325333 8.106667 159.701334 52.48a565.930667 565.930667 0 0 1 127.274666-14.208c38.741333 0 77.226667 3.882667 114.048 11.605333 67.456-42.24 119.04-55.509333 155.306667-49.92 3.626667 0.597333 6.741333 1.322667 9.258667 2.133333l19.285333 6.101334 7.466667 18.773333c20.010667 50.218667 23.424 96.469333 16.128 136.96C875.434667 296.32 896 352.597333 896 416.512c0 53.888-3.84 94.378667-14.933333 133.802667l-11.733334 32.170666c-30.677333 69.333333-98.304 112.64-202.538666 133.248 10.837333 15.018667 15.872 30.250667 15.872 52.394667v42.666667l-0.042667 42.666666a13.013333 13.013333 0 0 0 0.341333 2.730667L682.666667 938.794667c-36.352 0-63.36-17.706667-76.672-45.653334a88.277333 88.277333 0 0 1-8.661334-40.277333v-84.736c0-3.584-0.128-3.797333-8.832-12.501333-23.296-23.296-33.834667-40.874667-33.834666-72.832v-38.613334l38.4-3.84c114.346667-11.52 176.512-43.221333 197.12-89.6l9.6-26.325333c7.68-27.562667 10.88-61.098667 10.88-107.946667 0-49.706667-17.365333-90.837333-50.218667-123.648L742.4 274.773333l7.381333-24.448c6.528-21.717333 8.106667-47.402667 1.152-76.714666a158.634667 158.634667 0 0 0-3.584 0.938666c-22.826667 6.4-51.370667 20.053333-85.76 43.008l-15.658666 10.453334-18.304-4.522667a467.754667 467.754667 0 0 0-111.829334-13.269333c-42.709333 0-84.906667 5.418667-123.946666 16.042666l-19.029334 5.205334-16.256-11.136c-35.541333-24.32-65.109333-38.826667-88.746666-45.568a158.293333 158.293333 0 0 0-4.864-1.28c-8.234667 33.92-4.992 61.781333 3.413333 82.688l9.984 25.088-18.346667 19.797333C228.693333 332.629333 213.333333 370.986667 213.333333 416.512c0 41.685333 4.864 76.202667 13.824 102.229333l11.178667 26.453334c27.904 52.352 87.168 83.84 192.853333 95.146666l38.144 4.096v38.357334c0 32-10.538667 49.536-33.834666 72.832-8.704 8.704-8.832 8.96-8.832 12.501333l-0.725334 7.893333c-0.512 2.56-0.512 9.258667 0.170667 37.205334 0.298667 12.8 0.469333 22.997333 0.554667 33.621333a33.962667 33.962667 0 0 1 0.725333 6.656z"/>
  </svg>
 </a>

    
    
    <a href="mailto:username@example.com" aria-label="Email">
  <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M513.78 602.99c-27.28 0.45-53.79-9.09-74.53-26.83l-65.96-56.64c-15.64-13.37-17.48-36.9-4.1-52.54 13.38-15.65 36.9-17.48 52.54-4.1l65.96 56.64c13.68 11.1 33.27 11.1 46.95 0L881.2 253.08l-708.02-2.61c-20.58 0-37.26-16.69-37.26-37.26s16.68-37.26 37.26-37.26H881.2c41.09-2.36 76.32 29.05 78.67 70.14a74.519 74.519 0 0 1-32.46 65.87L580.86 578.38a111.842 111.842 0 0 1-67.08 24.61z m444.57 133.4V438.28c0-20.58-16.68-37.26-37.26-37.26s-37.26 16.69-37.26 37.26V736.4c0 20.58-16.68 37.26-37.26 37.26h-521.7c-20.58 0-37.26 16.69-37.26 37.26s16.68 37.26 37.26 37.26h521.7c61.72 0.01 111.78-50.05 111.78-111.79zM362.12 363.75c0-20.58-16.68-37.26-37.26-37.26h-223.6c-20.58 0-37.26 16.69-37.26 37.26s16.68 37.26 37.26 37.26h223.59c20.58 0.01 37.27-16.68 37.27-37.26z m0 298.12c0-20.58-16.68-37.26-37.26-37.26h-111.8c-20.58 0-37.26 16.69-37.26 37.26s16.68 37.26 37.26 37.26h111.79c20.58 0 37.27-16.69 37.27-37.26z"/>
  </svg>
</a>

    
    
    <a target="_blank" rel="noopener" href="https://t.me/username" aria-label="Telegram">
  <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M834.24 127.872a95.168 95.168 0 0 0-29.856 7.136h-0.128c-9.12 3.616-52.48 21.856-118.4 49.504l-236.224 99.488c-169.504 71.36-336.128 141.632-336.128 141.632l1.984-0.768s-11.488 3.776-23.488 12a64.96 64.96 0 0 0-18.752 18.144c-5.888 8.64-10.624 21.856-8.864 35.52 2.88 23.104 17.856 36.96 28.608 44.608 10.88 7.744 21.248 11.36 21.248 11.36h0.256l156.256 52.64c7.008 22.496 47.616 156 57.376 186.752 5.76 18.368 11.36 29.856 18.368 38.624 3.392 4.48 7.36 8.224 12.128 11.232a35.808 35.808 0 0 0 7.872 3.392l-1.6-0.384c0.48 0.128 0.864 0.512 1.216 0.64 1.28 0.352 2.144 0.48 3.776 0.736 24.736 7.488 44.608-7.872 44.608-7.872l1.12-0.896 92.256-84 154.624 118.624 3.52 1.504c32.224 14.144 64.864 6.272 82.112-7.616 17.376-13.984 24.128-31.872 24.128-31.872l1.12-2.88 119.488-612.128c3.392-15.104 4.256-29.248 0.512-42.976a57.824 57.824 0 0 0-24.992-33.504 59.904 59.904 0 0 0-34.144-8.64z m-3.232 65.6c-0.128 2.016 0.256 1.792-0.64 5.664v0.352l-118.368 605.76c-0.512 0.864-1.376 2.752-3.744 4.64-2.496 1.984-4.48 3.232-14.88-0.896l-189.12-144.992-114.24 104.128 24-153.28 308.992-288c12.736-11.84 8.48-14.336 8.48-14.336 0.896-14.528-19.232-4.256-19.232-4.256l-389.632 241.376-0.128-0.64-186.752-62.88v-0.128l-0.48-0.096a8.64 8.64 0 0 0 0.96-0.384l1.024-0.512 0.992-0.352s166.752-70.272 336.256-141.632c84.864-35.744 170.368-71.744 236.128-99.52 65.76-27.616 114.368-47.872 117.12-48.96 2.624-1.024 1.376-1.024 3.264-1.024z"/>
  </svg>
</a>

    
    
    
    
    
    
    
    <!-- Removed RSS section -->
  <p>
    <br>
  <p id="hitokoto">内敛而不懦弱 寂静而有力量</p>
  <br>
  <p class="center font">
    &copy; - <a href="http://blog.p1nk.cn">p1nk的生命线</a> ：  2001 ~  2024 - Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>   
  </p>
  
  <br />
</foot>

</body>

</html>